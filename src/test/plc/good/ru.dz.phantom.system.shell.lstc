Class version 20190822101648663

method <init> ordinal 18
--
  arg_count 0						//  @0
  ret							//  @2
--
method end

method go ordinal 16
--
  arg_count 0						//  @0
; Line 82
  load fld=12						//  @2
  call m=9 nparm=0					//  @4
  os drop							//  @6
  ret							//  @7
--
method end

method run ordinal 8
--
  arg_count 1						//  @0
  stack_reserve obj=1 int=0				//  @2
  summon class internal.window				//  @5
  new							//  @26
; set win
  save fld=8						//  @27
; Line 89
  load fld=8						//  @29
; Line 89
  const 50						//  @31
  i2o							//  @36
; Line 89
  const 310						//  @37
  i2o							//  @42
; Line 89
; Line 89
  call m=27 nparm=2					//  @43
  os drop							//  @45
; Line 89
; Line 90
  load fld=8						//  @46
; Line 90
; str 'Disk io stats'
  const_pool <0>						//  @48
; Line 90
  call m=33 nparm=1					//  @53
  os drop							//  @62
; Line 90
; Line 91
  load fld=8						//  @63
; Line 91
  const -16777216						//  @65
  i2o							//  @70
; Line 91
  call m=22 nparm=1					//  @71
  os drop							//  @73
; Line 91
; Line 93
  load fld=8						//  @74
  call m=20 nparm=0					//  @76
  os drop							//  @78
; Line 93
; Line 96
  load fld=8						//  @79
  call m=34 nparm=0					//  @81
  os drop							//  @90
; Line 96
; Line 97
  const 0							//  @91
  i2o							//  @96
; set stat_pos
  save fld=3						//  @97
; Line 97
; Line 98
  const 0							//  @99
  i2o							//  @104
; set old_idle
  save fld=6						//  @105
; Line 98
; Line 100
  const -1						//  @107
  i2o							//  @112
; set white
  save fld=7						//  @113
; Line 100
  summon class internal.io.tty				//  @115
  new							//  @136
; set console
  save fld=0						//  @137
; Line 102
; Line 103
  const 1							//  @139
  i2o							//  @144
; set incr
  save fld=1						//  @145
; Line 103
; Line 105
  load fld=0						//  @147
; Line 105
  const 10						//  @149
  i2o							//  @154
; Line 105
  const 10						//  @155
  i2o							//  @160
; Line 105
; Line 105
  call m=24 nparm=2					//  @161
  os drop							//  @163
; Line 105
; Line 106
  load fld=0						//  @164
; Line 106
; str 'VM Shell'
  const_pool <1>						//  @166
; Line 106
  call m=25 nparm=1					//  @171
  os drop							//  @173
; Line 106
  summon class internal.connection			//  @174
  new							//  @199
; set conn
  save fld=9						//  @200
; Line 113
; Line 114
  load fld=9						//  @202
; Line 114
; str 'tmr:'
  const_pool <2>						//  @204
; Line 114
  call m=8 nparm=1					//  @209
  os drop							//  @211
; Line 114
  summon class ru.dz.phantom.system.shell_callback	//  @212
  new							//  @253
  pull depth=0						//  @254
  summon class ru.dz.phantom.system.shell_callback	//  @259
  static invoke ord=18 n_param=0				//  @300
  os drop							//  @309
; set cb
  save fld=11						//  @310
; Line 116
; Line 117
  load fld=11						//  @312
; Line 117
  load fld=0						//  @314
; Line 117
  call m=16 nparm=1					//  @316
  os drop							//  @318
; Line 117
; Line 119
  load fld=9						//  @319
; Line 119
  load fld=11						//  @321
; Line 119
  const 17						//  @323
  i2o							//  @328
; Line 119
; Line 119
  call m=12 nparm=2					//  @329
  os drop							//  @331
; Line 119
; Line 121
  load fld=9						//  @332
; Line 121
  const 1000						//  @334
  i2o							//  @339
; Line 121
  const 0							//  @340
  i2o							//  @345
; Line 121
; Line 121
  call m=11 nparm=2					//  @346
  os drop							//  @348
; Line 121
  summon class internal.connection			//  @349
  new							//  @374
; set stat_conn
  save fld=10						//  @375
; Line 123
; Line 124
  load fld=10						//  @377
; Line 124
; str 'stt:'
  const_pool <3>						//  @379
; Line 124
  call m=8 nparm=1					//  @384
  os drop							//  @386
; Line 124
; Line 182
_label_0:	//  @387
; Line 126
  const 1							//  @387
  jz _label_1						//  @392
; Line 128
  load fld=12						//  @397
  call m=8 nparm=0					//  @399
  os drop							//  @401
; Line 130
  load fld=0						//  @402
; Line 130
; str 'I am connected shell!
'
  const_pool <4>						//  @404
; Line 130
  call m=17 nparm=1					//  @409
  os drop							//  @411
; Line 130
; Line 131
  load fld=0						//  @412
; Line 131
; str '--------------------------------------------------
'
  const_pool <5>						//  @414
; Line 131
  call m=17 nparm=1					//  @419
  os drop							//  @421
; Line 131
; Line 132
  load fld=0						//  @422
; Line 132
; str 'Thread is running... '
  const_pool <6>						//  @424
; Line 132
  call m=17 nparm=1					//  @429
  os drop							//  @431
; Line 132
; Line 133
  load fld=0						//  @432
; Line 133
  load fld=1						//  @434
  call m=5 nparm=0					//  @436
; Line 133
  call m=17 nparm=1					//  @438
  os drop							//  @440
; Line 133
; Line 134
  load fld=0						//  @441
; Line 134
; str '  '
  const_pool <7>						//  @443
; Line 134
  call m=17 nparm=1					//  @448
  os drop							//  @450
; Line 134
; Line 136
  load fld=9						//  @451
; Line 136
  summon null						//  @453
; Line 136
  const 500						//  @454
  i2o							//  @459
; Line 136
; Line 136
  call m=13 nparm=2					//  @460
  os drop							//  @462
; Line 136
; Line 138
  load fld=10						//  @463
; Line 138
  const 26						//  @465
  i2o							//  @470
; Line 138
  const 0							//  @471
  i2o							//  @476
; Line 138
; Line 138
  call m=13 nparm=2					//  @477
; set stat_val
  save fld=2						//  @479
; Line 138
; Line 139
  load fld=0						//  @481
; Line 139
; str 'blk io =. '
  const_pool <8>						//  @483
; Line 139
  call m=17 nparm=1					//  @488
  os drop							//  @490
; Line 139
; Line 141
  load fld=10						//  @491
; Line 141
  const 0							//  @493
  i2o							//  @498
; Line 141
  const 5							//  @499
  i2o							//  @504
; Line 141
; Line 141
  call m=13 nparm=2					//  @505
; set cpu_idle
  save fld=5						//  @507
; Line 141
; Line 142
  load fld=0						//  @509
; Line 142
; str 'cpu idle = '
  const_pool <9>						//  @511
; Line 142
  call m=17 nparm=1					//  @516
  os drop							//  @518
; Line 142
; Line 143
  load fld=0						//  @519
; Line 143
  load fld=5						//  @521
  call m=5 nparm=0					//  @523
; Line 143
  call m=17 nparm=1					//  @525
  os drop							//  @527
; Line 143
; Line 144
  load fld=0						//  @528
; Line 144
; str '
'
  const_pool <10>						//  @530
; Line 144
  call m=17 nparm=1					//  @535
  os drop							//  @537
; Line 144
; Line 146
  const 100						//  @538
; Line 146
  load fld=5						//  @543
  o2i							//  @545
; Line 146
  isublu							//  @546
  i2o							//  @547
; set cpu_idle
  save fld=5						//  @548
; Line 146
; Line 148
  load fld=3						//  @550
  o2i							//  @552
; Line 148
  const 1							//  @553
; Line 148
  isum							//  @558
  i2o							//  @559
; set stat_next_pos
  save fld=4						//  @560
; Line 148
; Line 150
; Line 149
  load fld=4						//  @562
  o2i							//  @564
; Line 149
  load fld=8						//  @565
  call m=16 nparm=0					//  @567
  o2i							//  @569
  ige >=							//  @570
  jz _label_2						//  @571
; Line 150
  const 0							//  @576
  i2o							//  @581
; set stat_next_pos
  save fld=4						//  @582
_label_2:	//  @584
; Line 150
; Line 153
  load fld=8						//  @584
; Line 153
  const -16711936						//  @586
  i2o							//  @591
; Line 153
  call m=22 nparm=1					//  @592
  os drop							//  @594
; Line 153
; Line 154
  load fld=8						//  @595
; Line 154
  load fld=4						//  @597
; Line 154
  const 5							//  @599
  i2o							//  @604
; Line 154
  const 0							//  @605
  i2o							//  @610
; Line 154
  const 300						//  @611
  i2o							//  @616
; Line 154
; Line 154
; Line 154
; Line 154
  call m=28 nparm=4					//  @617
  os drop							//  @619
; Line 154
; Line 157
  load fld=8						//  @620
; Line 157
  load fld=7						//  @622
; Line 157
  call m=22 nparm=1					//  @624
  os drop							//  @626
; Line 157
; Line 158
  load fld=8						//  @627
; Line 158
  load fld=3						//  @629
; Line 158
  const 5							//  @631
  i2o							//  @636
; Line 158
  const 0							//  @637
  i2o							//  @642
; Line 158
  const 300						//  @643
  i2o							//  @648
; Line 158
; Line 158
; Line 158
; Line 158
  call m=28 nparm=4					//  @649
  os drop							//  @651
; Line 158
; Line 160
  load fld=8						//  @652
; Line 160
  const -16777216						//  @654
  i2o							//  @659
; Line 160
  call m=22 nparm=1					//  @660
  os drop							//  @662
; Line 160
; Line 161
  load fld=8						//  @663
; Line 161
  load fld=3						//  @665
; Line 161
  const 5							//  @667
  i2o							//  @672
; Line 161
  const 0							//  @673
  i2o							//  @678
; Line 161
  const 0							//  @679
; Line 161
  load fld=2						//  @684
  o2i							//  @686
; Line 161
  isum							//  @687
  i2o							//  @688
; Line 161
; Line 161
; Line 161
; Line 161
  call m=28 nparm=4					//  @689
  os drop							//  @691
; Line 161
; Line 164
  load fld=8						//  @692
; Line 164
  const -16776961						//  @694
  i2o							//  @699
; Line 164
  call m=22 nparm=1					//  @700
  os drop							//  @702
; Line 164
; Line 165
  load fld=8						//  @703
; Line 165
  load fld=3						//  @705
  o2i							//  @707
; Line 165
  const 1							//  @708
; Line 165
  isublu							//  @713
  i2o							//  @714
; Line 165
  load fld=6						//  @715
; Line 165
  const 1							//  @717
  i2o							//  @722
; Line 165
  load fld=5						//  @723
  o2i							//  @725
; Line 165
  load fld=6						//  @726
  o2i							//  @728
; Line 165
  isublu							//  @729
  i2o							//  @730
; Line 165
; Line 165
; Line 165
; Line 165
  call m=28 nparm=4					//  @731
  os drop							//  @733
; Line 165
; Line 167
  load fld=5						//  @734
; set old_idle
  save fld=6						//  @736
; Line 167
; Line 168
  load fld=4						//  @738
; set stat_pos
  save fld=3						//  @740
; Line 168
; Line 177
  load fld=8						//  @742
  call m=34 nparm=0					//  @744
  os drop							//  @753
; Line 177
; Line 179
  load fld=12						//  @754
  call m=9 nparm=0					//  @756
  os drop							//  @758
; Line 179
; Line 181
  load fld=1						//  @759
  o2i							//  @761
; Line 181
  const 1							//  @762
; Line 181
  isum							//  @767
  i2o							//  @768
; set incr
  save fld=1						//  @769
; Line 181
  jmp _label_0						//  @771
_label_1:	//  @776
; Line 182
  ret							//  @776
--
method end

method init ordinal 17
--
  arg_count 0						//  @0
  summon class internal.mutex				//  @2
  new							//  @22
; set mtx
  save fld=12						//  @23
; Line 77
  load fld=12						//  @25
  call m=8 nparm=0					//  @27
  os drop							//  @29
; Line 77
  ret							//  @30
--
method end

